[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (9.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (3.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (16.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (8.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (1.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "answers" ("id" serial primary key, "title" character varying, "question_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "custom" boolean DEFAULT 'f')[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_answers_on_question_id" ON "answers" USING btree ("question_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "attempts" ("id" serial primary key, "interview_id" integer, "poll_id" integer, "client_id" integer, "question_id" integer, "answer_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "custom_answer" character varying)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_attempts_on_answer_id" ON "attempts" USING btree ("answer_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (3.8ms)[0m  [1m[35mCREATE  INDEX  "index_attempts_on_client_id" ON "attempts" USING btree ("client_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_attempts_on_interview_id" ON "attempts" USING btree ("interview_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_attempts_on_poll_id" ON "attempts" USING btree ("poll_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_attempts_on_question_id" ON "attempts" USING btree ("question_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "auth_logs" ("id" serial primary key, "username" character varying, "password" character varying, "timeout" integer, "client_device_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (5.3ms)[0m  [1m[35mCREATE  INDEX  "index_auth_logs_on_cleint_device_id" ON "auth_logs" USING btree ("client_device_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_auth_logs_on_password" ON "auth_logs" USING btree ("password")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_auth_logs_on_username" ON "auth_logs" USING btree ("username")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "bans" ("id" serial primary key, "until_date" timestamp, "location_id" integer, "client_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_bans_on_client_id" ON "bans" USING btree ("client_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_bans_on_location_id" ON "bans" USING btree ("location_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "brands" ("id" serial primary key, "title" character varying DEFAULT 'GYC Free WiFi' NOT NULL, "logo" character varying DEFAULT '/images/logo.png', "bg_color" character varying DEFAULT '#0e1a35', "background" character varying DEFAULT '/images/default_background.png', "redirect_url" character varying DEFAULT 'https://gycwifi.com', "auth_expiration_time" integer DEFAULT 3600 NOT NULL, "category_id" integer NOT NULL, "promo_text" text DEFAULT 'Sample promo text', "slug" character varying NOT NULL, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "sms_auth" boolean)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_brands_on_slug" ON "brands" USING btree ("slug")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_brands_on_user_id" ON "brands" USING btree ("user_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" serial primary key, "title_en" character varying, "title_ru" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "client_accounting_logs" ("id" serial primary key, "created_at" timestamp DEFAULT now() NOT NULL, "updated_at" timestamp DEFAULT now() NOT NULL, "acctsessionid" character varying, "acctuniqueid" character varying, "username" character varying, "groupname" character varying, "realm" character varying, "nasipaddress" character varying, "nasportid" character varying, "nasporttype" character varying, "acctstarttime" timestamp, "acctstoptime" timestamp, "acctsessiontime" bigint, "acctauthentic" character varying, "connectinfo_start" character varying, "connectinfo_stop" character varying, "acctinputoctets" bigint, "acctoutputoctets" bigint, "calledstationid" character varying, "callingstationid" character varying, "acctterminatecause" character varying, "servicetype" character varying, "xascendsessionsvrkey" character varying, "framedprotocol" character varying, "framedipaddress" character varying, "acctstartdelay" integer, "acctstopdelay" integer)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_client_accounting_logs_on_acctstarttime" ON "client_accounting_logs" USING btree ("acctstarttime")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_client_accounting_logs_on_acctstoptime" ON "client_accounting_logs" USING btree ("acctstoptime")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.5ms)[0m  [1m[35mCREATE  INDEX  "index_client_accounting_logs_on_calledstationid" ON "client_accounting_logs" USING btree ("calledstationid")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_client_accounting_logs_on_created_at" ON "client_accounting_logs" USING btree ("created_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.4ms)[0m  [1m[35mCREATE  INDEX  "index_client_accounting_logs_on_nasipaddress" ON "client_accounting_logs" USING btree ("nasipaddress")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_client_accounting_logs_on_nasportid" ON "client_accounting_logs" USING btree ("nasportid")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_client_accounting_logs_on_updated_at" ON "client_accounting_logs" USING btree ("updated_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_client_accounting_logs_on_username" ON "client_accounting_logs" USING btree ("username")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "client_counters" ("id" serial primary key, "client_id" integer, "location_id" integer, "counter" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_client_counters_on_client_id" ON "client_counters" USING btree ("client_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_client_counters_on_created_at" ON "client_counters" USING btree ("created_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_client_counters_on_location_id" ON "client_counters" USING btree ("location_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_client_counters_on_updated_at" ON "client_counters" USING btree ("updated_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "client_devices" ("id" serial primary key, "mac" character varying, "platform_os" character varying, "platform_product" character varying, "client_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (7.6ms)[0m  [1m[35mCREATE  INDEX  "index_client_devices_on_client_id" ON "client_devices" USING btree ("client_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_client_devices_on_created_at" ON "client_devices" USING btree ("created_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_client_devices_on_mac" ON "client_devices" USING btree ("mac")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (3.9ms)[0m  [1m[35mCREATE  INDEX  "index_client_devices_on_updated_at" ON "client_devices" USING btree ("updated_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "clients" ("id" serial primary key, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_clients_on_created_at" ON "clients" USING btree ("created_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_clients_on_phone_number" ON "clients" USING btree ("phone_number")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX  "index_clients_on_updated_at" ON "clients" USING btree ("updated_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "delayed_jobs" ("id" serial primary key, "priority" integer DEFAULT 0 NOT NULL, "attempts" integer DEFAULT 0 NOT NULL, "handler" text NOT NULL, "last_error" text, "run_at" timestamp, "locked_at" timestamp, "failed_at" timestamp, "locked_by" character varying, "queue" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.3ms)[0m  [1m[35mCREATE  INDEX  "delayed_jobs_priority" ON "delayed_jobs" USING btree ("priority", "run_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "device_auth_pendings" ("id" integer DEFAULT nextval('device_auth_pending_id_seq'::regclass) PRIMARY KEY, "mac" character varying, "phone" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "sms_code" character varying)[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[35m (42.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY version[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(176647670961727980);[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "development"], ["updated_at", "2017-06-05 17:12:31.815960"], ["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(176647670961727980)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY version[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(176647670961727980);[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(176647670961727980)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (5.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY version[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (5.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (18.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (47.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (30.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (6.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "gycwifi_api_test"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (20.3ms)[0m  [1m[35mCREATE DATABASE "gycwifi_api_test" ENCODING = 'unicode'[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (9.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (20.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (3.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (7.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (9.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "gycwifi_api_test"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (303.9ms)[0m  [1m[35mCREATE DATABASE "gycwifi_api_test" ENCODING = 'unicode'[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::InternalMetadata Load (9.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (23.0ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (5.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-06-06 08:54:30.956680"], ["updated_at", "2017-06-06 08:54:30.956680"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(176647670961727980);[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (4.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] Migrating to UpdateLayoutFields (20170605223935)
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "layouts" DROP "css"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "layouts" DROP "brand_id"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "locations" DROP "template"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "layouts" ADD "local_path" character varying[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (10.2ms)[0m  [1m[35mALTER TABLE "brands" ADD "layout_id" integer DEFAULT 1[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_brands_on_layout_id" ON "brands"  ("layout_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mLayout Load (1.3ms)[0m  [1m[34mSELECT  "layouts".* FROM "layouts" WHERE "layouts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (91.4ms)[0m  [1m[32mINSERT INTO "layouts" ("id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["id", 1], ["created_at", "2017-06-06 11:31:17.478038"], ["updated_at", "2017-06-06 11:31:17.478038"]]
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (14.8ms)[0m  [1m[33mUPDATE "layouts" SET "title" = $1, "updated_at" = $2, "local_path" = $3 WHERE "layouts"."id" = $4[0m  [["title", "default"], ["updated_at", "2017-06-06 11:31:17.571743"], ["local_path", "default"], ["id", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[36mLayout Load (4.7ms)[0m  [1m[34mSELECT  "layouts".* FROM "layouts" WHERE "layouts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "layouts" ("id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["id", 2], ["created_at", "2017-06-06 11:31:17.594516"], ["updated_at", "2017-06-06 11:31:17.594516"]]
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "layouts" SET "title" = $1, "updated_at" = $2, "local_path" = $3 WHERE "layouts"."id" = $4[0m  [["title", "light"], ["updated_at", "2017-06-06 11:31:17.596731"], ["local_path", "light"], ["id", 2]]
[[1m[30mDEBUG[0m[0m]   [1m[36mLayout Load (1.0ms)[0m  [1m[34mSELECT  "layouts".* FROM "layouts" WHERE "layouts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "layouts" SET "title" = $1, "local_path" = $2, "updated_at" = $3 WHERE "layouts"."id" = $4[0m  [["title", "cloudy"], ["local_path", "cloudy"], ["updated_at", "2017-06-06 11:31:17.600465"], ["id", 2]]
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170605223935"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to UpdateUsersParent (20170606083935)
[[1m[30mDEBUG[0m[0m]   [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" RENAME COLUMN "parent" TO "user_id"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170606083935"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to ConvertSocialLogsProviderToEnum (20170606112608)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.4ms)[0m  [1m[35m      CREATE TYPE social_provider
        AS ENUM
          ('password', 'google_oauth2', 'vk', 'facebook', 'twitter',
           'instagram', 'odnoklassniki');
[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "social_logs" ALTER COLUMN "provider" TYPE social_provider[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(176647670961727980)[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(176647670961727980);[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] Migrating to ConvertSocialLogsProviderToEnum (20170606112608)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.5ms)[0m  [1m[35m      CREATE TYPE social_provider
      AS ENUM (
        'password', 'google_oauth2', 'vk', 'facebook', 'twitter', 'instagram',
        'odnoklassniki'
      );
[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "social_logs" ALTER COLUMN "provider" TYPE social_provider[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (5.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(176647670961727980)[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(176647670961727980);[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] Migrating to ConvertSocialLogsProviderToEnum (20170606112608)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (206.9ms)[0m  [1m[35m      CREATE TYPE social_provider
      AS ENUM (
        'password', 'google_oauth2', 'vk', 'facebook', 'twitter', 'instagram',
        'odnoklassniki'
      );

      ALTER TABLE social_logs
      ALTER COLUMN provider
      TYPE social_provider
      USING provider::social_provider;
[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "social_logs" ALTER COLUMN "provider" TYPE social_provider[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170606112608"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(176647670961727980)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY version[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (3.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (3.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(176647670961727980);[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] Migrating to ConvertSocialLogsProviderToEnum (20170606112608)
[[1m[30mDEBUG[0m[0m]   [1m[35m (5.8ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (276.7ms)[0m  [1m[35mALTER TABLE "social_logs" ALTER COLUMN "provider" TYPE character varying[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[35mDROP TYPE social_provider;[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (1.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20170606112608"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(176647670961727980)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (6.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY version[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(176647670961727980);[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] Migrating to ConvertSocialAccountsProviderToEnum (20170606112608)
[[1m[30mDEBUG[0m[0m]   [1m[35m (9.3ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (79.3ms)[0m  [1m[35m      CREATE TYPE social_provider
      AS ENUM (
        'password', 'google_oauth2', 'vk', 'facebook', 'twitter', 'instagram',
        'odnoklassniki'
      );

      ALTER TABLE social_accounts
      ALTER COLUMN provider
      TYPE social_provider
      USING provider::social_provider;
[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170606112608"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(176647670961727980)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (33.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY version[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:46:59 +0300[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[41m[37mFATAL[0m[0m] [31mActionController::RoutingError (No route matches [GET] "/stats/clients_count"):[0m
[[41m[37mFATAL[0m[0m] [31mactionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
railties (5.0.3) lib/rails/engine.rb:522:in `call'
rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:47:14 +0300[0m
[[41m[37mFATAL[0m[0m] [31mActionController::RoutingError (No route matches [GET] "/stats/clients_count"):[0m
[[41m[37mFATAL[0m[0m] [31mactionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
railties (5.0.3) lib/rails/engine.rb:522:in `call'
rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/dashboard/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:47:29 +0300[0m
[[41m[37mFATAL[0m[0m] [31mActionController::RoutingError (No route matches [GET] "/dashboard/stats/clients_count"):[0m
[[41m[37mFATAL[0m[0m] [31mactionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
railties (5.0.3) lib/rails/engine.rb:522:in `call'
rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/dashboard/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:47:39 +0300[0m
[[41m[37mFATAL[0m[0m] [31mActionController::RoutingError (No route matches [GET] "/dashboard/stats/clients_count"):[0m
[[41m[37mFATAL[0m[0m] [31mactionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
railties (5.0.3) lib/rails/engine.rb:522:in `call'
rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:48:20 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#clients_count[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:48:26 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#clients_count[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:48:36 +0300[0m
[[41m[37mFATAL[0m[0m] [31mActionController::RoutingError (No route matches [GET] "/stats/clients_count"):[0m
[[41m[37mFATAL[0m[0m] [31mactionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
railties (5.0.3) lib/rails/engine.rb:522:in `call'
rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
/Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:48:37 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#clients_count[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:50:05 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#clients_count[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.4ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:50:06 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#clients_count[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:52:26 +0300[0m
[[41m[37mFATAL[0m[0m] [31m
ArgumentError - Before process_action callback :authenticate_user has not been defined:
  activesupport (5.0.3) lib/active_support/callbacks.rb:641:in `block (2 levels) in skip_callback'
  activesupport (5.0.3) lib/active_support/callbacks.rb:637:in `block in skip_callback'
  activesupport (5.0.3) lib/active_support/callbacks.rb:568:in `block in __update_callbacks'
  activesupport (5.0.3) lib/active_support/callbacks.rb:566:in `__update_callbacks'
  activesupport (5.0.3) lib/active_support/callbacks.rb:636:in `skip_callback'
  actionpack (5.0.3) lib/abstract_controller/callbacks.rb:212:in `block (3 levels) in <module:ClassMethods>'
  actionpack (5.0.3) lib/abstract_controller/callbacks.rb:95:in `block in _insert_callbacks'
  actionpack (5.0.3) lib/abstract_controller/callbacks.rb:94:in `_insert_callbacks'
  actionpack (5.0.3) lib/abstract_controller/callbacks.rb:211:in `block (2 levels) in <module:ClassMethods>'
  app/controllers/dashboard/stats_controller.rb:33:in `<class:StatsController>'
  app/controllers/dashboard/stats_controller.rb:1:in `<top (required)>'
  activesupport (5.0.3) lib/active_support/dependencies.rb:477:in `block in load_file'
  activesupport (5.0.3) lib/active_support/dependencies.rb:662:in `new_constants_in'
  activesupport (5.0.3) lib/active_support/dependencies.rb:476:in `load_file'
  activesupport (5.0.3) lib/active_support/dependencies.rb:375:in `block in require_or_load'
  activesupport (5.0.3) lib/active_support/dependencies.rb:37:in `block in load_interlock'
  activesupport (5.0.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
  activesupport (5.0.3) lib/active_support/concurrency/share_lock.rb:150:in `exclusive'
  activesupport (5.0.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
  activesupport (5.0.3) lib/active_support/dependencies.rb:37:in `load_interlock'
  activesupport (5.0.3) lib/active_support/dependencies.rb:358:in `require_or_load'
  activesupport (5.0.3) lib/active_support/dependencies.rb:511:in `load_missing_constant'
  activesupport (5.0.3) lib/active_support/dependencies.rb:203:in `const_missing'
  activesupport (5.0.3) lib/active_support/inflector/methods.rb:270:in `block in constantize'
  activesupport (5.0.3) lib/active_support/inflector/methods.rb:266:in `constantize'
  activesupport (5.0.3) lib/active_support/dependencies.rb:583:in `get'
  activesupport (5.0.3) lib/active_support/dependencies.rb:614:in `constantize'
  actionpack (5.0.3) lib/action_dispatch/http/request.rb:81:in `controller_class'
  actionpack (5.0.3) lib/action_dispatch/routing/route_set.rb:44:in `controller'
  actionpack (5.0.3) lib/action_dispatch/routing/route_set.rb:30:in `serve'
  actionpack (5.0.3) lib/action_dispatch/journey/router.rb:39:in `block in serve'
  actionpack (5.0.3) lib/action_dispatch/journey/router.rb:26:in `serve'
  actionpack (5.0.3) lib/action_dispatch/routing/route_set.rb:725:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  config/initializers/log_before_timeout.rb:17:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  activerecord (5.0.3) lib/active_record/migration.rb:553:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
  activesupport (5.0.3) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
  activesupport (5.0.3) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
  activesupport (5.0.3) lib/active_support/callbacks.rb:90:in `run_callbacks'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
  railties (5.0.3) lib/rails/engine.rb:522:in `call'
  rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'
[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/__better_errors/f24250847b9a2a69/variables" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:52:26 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:52:41 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#clients_count[0m as [33mJSON[0m
[[1m[30mDEBUG[0m[0m] resolving scope Location(id: integer, title: string, phone: string, address: string, url: string, ssid: string, staff_ssid: string, staff_ssid_pass: string, redirect_url: string, wlan: string, wan: string, auth_expiration_time: integer, promo_text: text, logo: string, bg_color: string, background: string, password: boolean, twitter: boolean, google: boolean, vk: boolean, insta: boolean, facebook: boolean, slug: string, brand_id: integer, category_id: integer, user_id: integer, created_at: datetime, updated_at: datetime, poll_id: integer, promo_type: string, last_page_content: string, sms_auth: boolean, sms_count: integer, voucher: boolean) for user nil
[INFO ] Completed [31m500 Internal Server Error[0m in 44ms [30m(ActiveRecord: 6.7ms)[0m
[[41m[37mFATAL[0m[0m] [31m
NoMethodError - undefined method `super_user?' for nil:NilClass:
  app/policies/application_policy.rb:85:in `resolve'
  pundit (1.1.0) lib/pundit.rb:90:in `policy_scope!'
  pundit (1.1.0) lib/pundit.rb:284:in `pundit_policy_scope'
  pundit (1.1.0) lib/pundit.rb:226:in `policy_scope'
  app/controllers/dashboard/stats_controller.rb:146:in `check_params'
  skylight (1.3.1) lib/skylight/helpers.rb:149:in `check_params'
  activesupport (5.0.3) lib/active_support/callbacks.rb:382:in `block in make_lambda'
  activesupport (5.0.3) lib/active_support/callbacks.rb:169:in `block (2 levels) in halting'
  actionpack (5.0.3) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
  activesupport (5.0.3) lib/active_support/callbacks.rb:170:in `block in halting'
  activesupport (5.0.3) lib/active_support/callbacks.rb:454:in `block in call'
  activesupport (5.0.3) lib/active_support/callbacks.rb:454:in `call'
  activesupport (5.0.3) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
  activesupport (5.0.3) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
  activesupport (5.0.3) lib/active_support/callbacks.rb:90:in `run_callbacks'
  actionpack (5.0.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.0.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.0.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.0.3) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (5.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.0.3) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (5.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.0.3) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
  activerecord (5.0.3) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (5.0.3) lib/abstract_controller/base.rb:126:in `process'
  actionview (5.0.3) lib/action_view/rendering.rb:30:in `process'
  actionpack (5.0.3) lib/action_controller/metal.rb:190:in `dispatch'
  actionpack (5.0.3) lib/action_controller/metal.rb:262:in `dispatch'
  actionpack (5.0.3) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
  actionpack (5.0.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
  actionpack (5.0.3) lib/action_dispatch/journey/router.rb:39:in `block in serve'
  actionpack (5.0.3) lib/action_dispatch/journey/router.rb:26:in `serve'
  actionpack (5.0.3) lib/action_dispatch/routing/route_set.rb:725:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  config/initializers/log_before_timeout.rb:17:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  activerecord (5.0.3) lib/active_record/migration.rb:553:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
  activesupport (5.0.3) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
  activesupport (5.0.3) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
  activesupport (5.0.3) lib/active_support/callbacks.rb:90:in `run_callbacks'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
  railties (5.0.3) lib/rails/engine.rb:522:in `call'
  rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'
[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/__better_errors/b5916efe7b874dfd/variables" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:52:41 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:52:43 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#clients_count[0m as [33mJSON[0m
[[1m[30mDEBUG[0m[0m] resolving scope Location(id: integer, title: string, phone: string, address: string, url: string, ssid: string, staff_ssid: string, staff_ssid_pass: string, redirect_url: string, wlan: string, wan: string, auth_expiration_time: integer, promo_text: text, logo: string, bg_color: string, background: string, password: boolean, twitter: boolean, google: boolean, vk: boolean, insta: boolean, facebook: boolean, slug: string, brand_id: integer, category_id: integer, user_id: integer, created_at: datetime, updated_at: datetime, poll_id: integer, promo_type: string, last_page_content: string, sms_auth: boolean, sms_count: integer, voucher: boolean) for user nil
[INFO ] Completed [31m500 Internal Server Error[0m in 26ms [30m(ActiveRecord: 6.0ms)[0m
[[41m[37mFATAL[0m[0m] [31m
NoMethodError - undefined method `super_user?' for nil:NilClass:
  app/policies/application_policy.rb:85:in `resolve'
  pundit (1.1.0) lib/pundit.rb:90:in `policy_scope!'
  pundit (1.1.0) lib/pundit.rb:284:in `pundit_policy_scope'
  pundit (1.1.0) lib/pundit.rb:226:in `policy_scope'
  app/controllers/dashboard/stats_controller.rb:146:in `check_params'
  skylight (1.3.1) lib/skylight/helpers.rb:149:in `check_params'
  activesupport (5.0.3) lib/active_support/callbacks.rb:382:in `block in make_lambda'
  activesupport (5.0.3) lib/active_support/callbacks.rb:169:in `block (2 levels) in halting'
  actionpack (5.0.3) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
  activesupport (5.0.3) lib/active_support/callbacks.rb:170:in `block in halting'
  activesupport (5.0.3) lib/active_support/callbacks.rb:454:in `block in call'
  activesupport (5.0.3) lib/active_support/callbacks.rb:454:in `call'
  activesupport (5.0.3) lib/active_support/callbacks.rb:101:in `__run_callbacks__'
  activesupport (5.0.3) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'
  activesupport (5.0.3) lib/active_support/callbacks.rb:90:in `run_callbacks'
  actionpack (5.0.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (5.0.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
  actionpack (5.0.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (5.0.3) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (5.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (5.0.3) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (5.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (5.0.3) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'
  activerecord (5.0.3) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (5.0.3) lib/abstract_controller/base.rb:126:in `process'
  actionview (5.0.3) lib/action_view/rendering.rb:30:in `process'
  actionpack (5.0.3) lib/action_controller/metal.rb:190:in `dispatch'
  actionpack (5.0.3) lib/action_controller/metal.rb:262:in `dispatch'
  actionpack (5.0.3) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
  actionpack (5.0.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
  actionpack (5.0.3) lib/action_dispatch/journey/router.rb:39:in `block in serve'
  actionpack (5.0.3) lib/action_dispatch/journey/router.rb:26:in `serve'
  actionpack (5.0.3) lib/action_dispatch/routing/route_set.rb:725:in `call'
  rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
  rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
  config/initializers/log_before_timeout.rb:17:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  activerecord (5.0.3) lib/active_record/migration.rb:553:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
  activesupport (5.0.3) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
  activesupport (5.0.3) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
  activesupport (5.0.3) lib/active_support/callbacks.rb:90:in `run_callbacks'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
  railties (5.0.3) lib/rails/engine.rb:522:in `call'
  rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'
[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/__better_errors/296c7183c44db8e8/variables" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:52:43 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/clients_count" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 14:52:54 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#clients_count[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:04:07 +0300[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (2.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232"}}
[INFO ] Completed [32m200 OK[0m in 1ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:04:14 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232"}}
[INFO ] Completed [32m200 OK[0m in 0ms [30m(Views: 0.1ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:04:23 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232"}}
[INFO ] Completed [32m200 OK[0m in 0ms [30m(Views: 0.1ms | ActiveRecord: 0.0ms)[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:10:06 +0300[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232"}}
[INFO ] Completed [32m200 OK[0m in 1ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:27:34 +0300[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232"}}
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[INFO ] Completed [32m200 OK[0m in [31m388204ms[0m [30m(Views: 0.4ms | ActiveRecord: 0.0ms)[0m
[[33mWARN [0m] [1m[35mthe request from /auth/password? has 1 second before unicorn worker timeout[0m[0m
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:34:30 +0300[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (5.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232"}}
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[INFO ] Completed [32m200 OK[0m in [31m32229ms[0m [30m(Views: 0.8ms | ActiveRecord: 0.0ms)[0m
[[33mWARN [0m] [1m[35mthe request from /auth/password? has 1 second before unicorn worker timeout[0m[0m
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:35:26 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232"}}
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[[33mWARN [0m] [1m[35mthe request from /auth/password? has 1 second before unicorn worker timeout[0m[0m
[INFO ] Completed [32m200 OK[0m in [31m26419ms[0m [30m(Views: 0.6ms | ActiveRecord: 0.0ms)[0m
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:36:28 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232"}}
[INFO ] Completed [32m200 OK[0m in [31m39687ms[0m [30m(Views: 0.8ms | ActiveRecord: 0.0ms)[0m
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[[33mWARN [0m] [1m[35mthe request from /auth/password? has 1 second before unicorn worker timeout[0m[0m
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:38:26 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://lvh.me:3232"}}
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[[33mWARN [0m] [1m[35mthe request from /auth/password? has 1 second before unicorn worker timeout[0m[0m
[INFO ] Completed [32m200 OK[0m in [31m47983ms[0m [30m(Views: 0.7ms | ActiveRecord: 0.0ms)[0m
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:39:36 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232"}}
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[[33mWARN [0m] [1m[35mthe request from /auth/password? has 1 second before unicorn worker timeout[0m[0m
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[[1m[30mDEBUG[0m[0m] Unpermitted parameters: redirectUri, provider, auth
[[1m[30mDEBUG[0m[0m]   [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m] "http://api2.lvh.me:3000"
[[1m[30mDEBUG[0m[0m] "/images/avatars/default.jpg"
[INFO ] Completed [32m201 Created[0m in [31m23215ms[0m [30m(Views: 1.1ms | ActiveRecord: 13.7ms)[0m
[[41m[37mFATAL[0m[0m] [31m
ThreadError - killed thread:
  config/initializers/log_before_timeout.rb:20:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  activerecord (5.0.3) lib/active_record/migration.rb:553:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
  activesupport (5.0.3) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
  activesupport (5.0.3) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
  activesupport (5.0.3) lib/active_support/callbacks.rb:90:in `run_callbacks'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
  railties (5.0.3) lib/rails/engine.rb:522:in `call'
  rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'
[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:44:07 +0300[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232"}}
[[1m[30mDEBUG[0m[0m] Unpermitted parameters: redirectUri, provider, auth
[[1m[30mDEBUG[0m[0m]   [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m] "http://api2.lvh.me:3000"
[[1m[30mDEBUG[0m[0m] "/images/avatars/default.jpg"
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[[1m[30mDEBUG[0m[0m] "http://api2.lvh.me:3000"
[[33mWARN [0m] [1m[35mthe request from /auth/password? has 1 second before unicorn worker timeout[0m[0m
[[1m[30mDEBUG[0m[0m] "/images/avatars/default.jpg"
[[33mWARN [0m] [1m[35m---------------------------------------------------------------[0m[0m
[INFO ] Completed [32m201 Created[0m in [31m61788ms[0m [30m(Views: 1.3ms | ActiveRecord: 21.7ms)[0m
[[41m[37mFATAL[0m[0m] [31m
ThreadError - killed thread:
  config/initializers/log_before_timeout.rb:20:in `call'
  rack (2.0.3) lib/rack/etag.rb:25:in `call'
  rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
  rack (2.0.3) lib/rack/head.rb:12:in `call'
  activerecord (5.0.3) lib/active_record/migration.rb:553:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
  activesupport (5.0.3) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
  activesupport (5.0.3) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
  activesupport (5.0.3) lib/active_support/callbacks.rb:90:in `run_callbacks'
  actionpack (5.0.3) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
  railties (5.0.3) lib/rails/rack/logger.rb:36:in `call_app'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `block in call'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (5.0.3) lib/active_support/tagged_logging.rb:69:in `tagged'
  railties (5.0.3) lib/rails/rack/logger.rb:24:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/request_id.rb:24:in `call'
  rack (2.0.3) lib/rack/runtime.rb:22:in `call'
  activesupport (5.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
  actionpack (5.0.3) lib/action_dispatch/middleware/static.rb:136:in `call'
  rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
  rack-cors (0.4.1) lib/rack/cors.rb:81:in `call'
  railties (5.0.3) lib/rails/engine.rb:522:in `call'
  rack (2.0.3) lib/rack/handler/webrick.rb:86:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /Users/sekrett/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'
[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:14 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232"}}
[[1m[30mDEBUG[0m[0m] Unpermitted parameters: redirectUri, provider, auth
[[1m[30mDEBUG[0m[0m]   [1m[36mUser Load (59.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m] "http://api2.lvh.me:3000"
[[1m[30mDEBUG[0m[0m] "/images/avatars/default.jpg"
[INFO ] Completed [32m201 Created[0m in [31m1996ms[0m [30m(Views: 0.9ms | ActiveRecord: 59.2ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/locations_list" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:17 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:17 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/social_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:17 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/time_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:17 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#locations_list[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#time_pie[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#social_pie[0m as [33mJSON[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/age_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:18 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/gender_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:18 +0300[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 35ms [30m(Views: 0.8ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/visitors_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:18 +0300[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 53ms [30m(Views: 0.6ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 60ms [30m(Views: 0.9ms | ActiveRecord: 0.0ms)[0m
[INFO ] Completed [33m401 Unauthorized[0m in 57ms [30m(Views: 1.0ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:18 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#visitors_pie[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users_pie[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 34ms [30m(Views: 0.9ms | ActiveRecord: 0.0ms)[0m
[INFO ] Completed [33m401 Unauthorized[0m in 13ms [30m(Views: 0.8ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/all_connects" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:18 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#all_connects[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 12ms [30m(Views: 0.7ms | ActiveRecord: 0.0ms)[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#gender_pie[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#age_pie[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 20ms [30m(Views: 0.7ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 20ms [30m(Views: 0.6ms | ActiveRecord: 0.0ms)[0m
[[33mWARN [0m] DEPRECATION WARNING: Passing strings or symbols to the middleware builder is deprecated, please change
them to actual class references.  For example:

  "LogBeforeTimeout" => LogBeforeTimeout

 (called from <top (required)> at /Users/sekrett/code/api_wifi/api/config/environment.rb:5)
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:45 +0300[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (4.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232"}}
[[1m[30mDEBUG[0m[0m] Unpermitted parameters: redirectUri, provider, auth
[[1m[30mDEBUG[0m[0m]   [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m] "http://api2.lvh.me:3000"
[[1m[30mDEBUG[0m[0m] "/images/avatars/default.jpg"
[INFO ] Completed [32m201 Created[0m in 74ms [30m(Views: 0.5ms | ActiveRecord: 14.7ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:45 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/time_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:45 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#time_pie[0m as [33mJSON[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/social_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:46 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/gender_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:46 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/locations_list" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:46 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/age_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:46 +0300[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 26ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] Completed [33m401 Unauthorized[0m in 9ms [30m(Views: 0.4ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/visitors_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:46 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:46 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#visitors_pie[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 4ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users_pie[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 5ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#gender_pie[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#social_pie[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#locations_list[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#age_pie[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 19ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 15ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 18ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 16ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/all_connects" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:46 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#all_connects[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:52 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232"}}
[[1m[30mDEBUG[0m[0m] Unpermitted parameters: redirectUri, provider, auth
[[1m[30mDEBUG[0m[0m]   [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m] "http://api2.lvh.me:3000"
[[1m[30mDEBUG[0m[0m] "/images/avatars/default.jpg"
[INFO ] Completed [32m201 Created[0m in 8ms [30m(Views: 0.3ms | ActiveRecord: 3.2ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/age_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:52 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/gender_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:52 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#age_pie[0m as [33mJSON[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/social_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:52 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/locations_list" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:52 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:52 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#gender_pie[0m as [33mJSON[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/time_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:52 +0300[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#social_pie[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#locations_list[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 38ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#time_pie[0m as [33mJSON[0m
[INFO ] Completed [33m401 Unauthorized[0m in 35ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 21ms [30m(Views: 0.4ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 20ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:52 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/visitors_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:52 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users_pie[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#visitors_pie[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 55ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 53ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 15ms [30m(Views: 0.4ms | ActiveRecord: 0.0ms)[0m
[INFO ] Completed [33m401 Unauthorized[0m in 10ms [30m(Views: 0.5ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/all_connects" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:45:53 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#all_connects[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.5ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:46:59 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard.lvh.me:3232"}}
[[1m[30mDEBUG[0m[0m] Unpermitted parameters: redirectUri, provider, auth
[[1m[30mDEBUG[0m[0m]   [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m] "http://api2.lvh.me:3000"
[[1m[30mDEBUG[0m[0m] "/images/avatars/default.jpg"
[INFO ] Completed [32m201 Created[0m in 10ms [30m(Views: 0.8ms | ActiveRecord: 1.4ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/locations_list" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:00 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#locations_list[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 5ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/gender_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:00 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#gender_pie[0m as [33mJSON[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/age_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:00 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#age_pie[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/time_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:00 +0300[0m
[INFO ] Completed [33m401 Unauthorized[0m in 19ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/social_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:00 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:00 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/visitors_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:00 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#time_pie[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:00 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#social_pie[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#visitors_pie[0m as [33mJSON[0m
[INFO ] Completed [33m401 Unauthorized[0m in 43ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users_pie[0m as [33mJSON[0m
[INFO ] Completed [33m401 Unauthorized[0m in 23ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 22ms [30m(Views: 0.4ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 22ms [30m(Views: 0.4ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 25ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] Completed [33m401 Unauthorized[0m in 22ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/all_connects" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:00 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#all_connects[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mPOST   [0m[0m[1m[37m "/auth/password" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:17 +0300[0m
[INFO ] [35m===[0m Processing by [35mAuthController#authenticate[0m as [33mHTML[0m
[INFO ]   Parameters: {"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard2.lvh.me:3232", "provider"=>"password", "auth"=>{"password"=>"admin", "email"=>"admin@example.com", "redirectUri"=>"http://dashboard2.lvh.me:3232"}}
[[1m[30mDEBUG[0m[0m] Unpermitted parameters: redirectUri, provider, auth
[[1m[30mDEBUG[0m[0m]   [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m] "http://api2.lvh.me:3000"
[[1m[30mDEBUG[0m[0m] "/images/avatars/default.jpg"
[INFO ] Completed [32m201 Created[0m in 8ms [30m(Views: 0.2ms | ActiveRecord: 3.5ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/locations_list" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:17 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/time_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:17 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:17 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#locations_list[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#time_pie[0m as [33mJSON[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/gender_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:17 +0300[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/age_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:17 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users[0m as [33mJSON[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/social_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:17 +0300[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#age_pie[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#gender_pie[0m as [33mJSON[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#social_pie[0m as [33mJSON[0m
[INFO ] Completed [33m401 Unauthorized[0m in 50ms [30m(Views: 0.5ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 58ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] Completed [33m401 Unauthorized[0m in 40ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/visitors_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:17 +0300[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/new_old_users_pie" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:17 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#visitors_pie[0m as [33mJSON[0m
[INFO ] Completed [33m401 Unauthorized[0m in 30ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#new_old_users_pie[0m as [33mJSON[0m
[INFO ] Completed [33m401 Unauthorized[0m in 41ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] Completed [33m401 Unauthorized[0m in 38ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] Completed [33m401 Unauthorized[0m in 11ms [30m(Views: 0.3ms | ActiveRecord: 0.0ms)[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 6ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/all_connects" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:47:18 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#all_connects[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[INFO ] [1m[32mGET    [0m[0m[1m[37m "/stats/locations_list" [0m[0m for [33m127.0.0.1[0m[30m  at 2017-06-06 17:48:37 +0300[0m
[INFO ] [35m===[0m Processing by [35mDashboard::StatsController#locations_list[0m as [33mJSON[0m
[INFO ] Filter chain halted as :authenticate_user rendered or redirected
[INFO ] Completed [33m401 Unauthorized[0m in 1ms [30m(Views: 0.2ms | ActiveRecord: 0.0ms)[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (6.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (5.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (156.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "gycwifi_api_test"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (392.6ms)[0m  [1m[35mCREATE DATABASE "gycwifi_api_test" ENCODING = 'unicode'[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-07-28 07:35:18.607205"], ["updated_at", "2017-07-28 07:35:18.607205"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(176647670961727980);[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[INFO ] Migrating to CreateNotifications (20170622044132)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (25.4ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" serial primary key, "status_sent" boolean, "sent_at" timestamp, "router_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_sent_at" ON "notifications"  ("sent_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_router_id" ON "notifications"  ("router_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170622044132"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to UpdateNotifications (20170622154132)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "notifications" DROP "status_sent"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notifications" ADD "user_id" integer[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notifications" ADD "location_id" integer[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_location_id" ON "notifications"  ("location_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "notifications" ADD "poll_id" integer[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_poll_id" ON "notifications"  ("poll_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notifications" ADD "payment_id" integer[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_payment_id" ON "notifications"  ("payment_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (5.1ms)[0m  [1m[35mCREATE  INDEX  "index_routers_on_created_at" ON "routers"  ("created_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX  "index_routers_on_updated_at" ON "routers"  ("updated_at")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170622154132"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to UpdateNotifications1 (20170622154432)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "notifications" ADD "title" character varying[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "notifications" ADD "details" character varying[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170622154432"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to UpdateNotifications2 (20170622160732)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (9.6ms)[0m  [1m[35mALTER TABLE "notifications" ADD "seen" boolean DEFAULT 'f'[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170622160732"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to UpdateUser (20170627160732)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD "tour_last_run" timestamp[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (8.7ms)[0m  [1m[35mALTER TABLE "notifications" ADD "silence" boolean DEFAULT 'f'[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170627160732"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to UpdateRouters (20170630090732)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "routers" ADD "config_type" character varying[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "routers" ADD "hotspot_interface" character varying[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "routers" ADD "hotspot_address" character varying[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170630090732"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to UpdateVouchers (20170704090732)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "vouchers" ADD "client_id" integer[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_vouchers_on_client_id" ON "vouchers"  ("client_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_vouchers_on_password" ON "vouchers"  ("password")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170704090732"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to UpdateVouchersDuration (20170706090732)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vouchers" ADD "duration" integer[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170706090732"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to UpdateAuthLogVoucher (20170706160732)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "auth_logs" ADD "voucher_id" integer[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (48.3ms)[0m  [1m[35mCREATE  INDEX  "index_auth_logs_on_voucher_id" ON "auth_logs"  ("voucher_id")[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vouchers" ALTER COLUMN "duration" SET DEFAULT 0[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170706160732"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to AddFavoriteColumnToNotifications (20170711074255)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (7.3ms)[0m  [1m[35mALTER TABLE "notifications" ADD "favorite" bool DEFAULT 'f'[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170711074255"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to RemoveColumnInterviewIdFromAttempts (20170712134124)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "attempts" DROP "interview_id"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170712134124"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to AddInterviewUuidColumnToAttempts (20170724143200)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "attempts" ADD "interview_uuid" integer[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170724143200"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
[INFO ] Migrating to RemovePollIdAndQuestionIdColumnFromAttempts (20170724145605)
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "attempts" DROP "poll_id"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "attempts" DROP "question_id"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170724145605"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(176647670961727980)[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY version[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (145.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "gycwifi_api_test"[0m
[[1m[30mDEBUG[0m[0m]   [1m[35m (319.8ms)[0m  [1m[35mCREATE DATABASE "gycwifi_api_test" ENCODING = 'unicode'[0m
[[1m[30mDEBUG[0m[0m]   [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
[[1m[30mDEBUG[0m[0m]   [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-07-28 07:35:33.316563"], ["updated_at", "2017-07-28 07:35:33.316563"]]
[[1m[30mDEBUG[0m[0m]   [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
